<!DOCTYPE html>
<HTML lang=en-GB>

<HEAD>

<TITLE>Agent Based Model Practical 2 Page</TITLE>
<!-- Styling -->
<!-- Some href attributes are changed by scripts -->
<link id="css" rel="stylesheet" type="text/css" href="/tools/highlight/styles/default.min.css">
<script src="/scripts/style.js"></script>
<!-- For styling code -->
<script src="/tools/highlight/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<link id="code_theme" rel="stylesheet" type="text/css" href="/css/style.css">
<link id="css1" rel="stylesheet" type="text/css" href="/tools/highlight/styles/github-dark.min.css">
<link id="css2" rel="stylesheet" type="text/css" href="/css/style_dark.css">

</HEAD>

<BODY>

<button id="style_button" onclick="swapStyle()"></button>

<DIV id="navigation" class="navbar"><a id="home" class="nav" href="../home/index.html">Home</a> <a id="programming" class="nav" href="../programming/index.html">Programming</a> <a id="python" class="nav" href="../python/index.html">Python</a> <a id="variables" class="nav" href="../variables/index.html">Variables</a> <a id="github" class="nav" href="../github/index.html">GitHub</a> <a id="abm1" class="nav" href="../abm1/index.html">ABM1</a> <a id="containers" class="nav" href="../containers/index.html">Containers</a> <a id="branching" class="nav" href="../branching/index.html">Branching</a> <a id="loops" class="nav" href="../loops/index.html">Loops</a> <a id="abm2" class="nav" href="../abm2/index.html">ABM2</a> <a id="functions" class="nav" href="../functions/index.html">Functions</a> <a id="abm3" class="nav" href="../abm3/index.html">ABM3</a> <a id="classes" class="nav" href="../classes/index.html">Classes</a> <a id="abm4" class="nav" href="../abm4/index.html">ABM4</a> <a id="io" class="nav" href="../io/index.html">IO</a> <a id="abm5" class="nav" href="../abm5/index.html">ABM5</a> <a id="modules" class="nav" href="../modules/index.html">Modules</a> <a id="abm6" class="nav" href="../abm6/index.html">ABM6</a> <a id="exceptions" class="nav" href="../exceptions/index.html">Exceptions</a> <a id="abm7" class="nav" href="../abm7/index.html">ABM7</a> <a id="gui" class="nav" href="../gui/index.html">GUI</a> <a id="abm8" class="nav" href="../abm8/index.html">ABM8</a> <a id="web" class="nav" href="../web/index.html">Web</a> <a id="abm9" class="nav" href="../abm9/index.html">ABM9</a> <a id="testing" class="nav" href="../testing/index.html">Testing</a> <a id="conclusion" class="nav" href="../conclusion/index.html">Conclusion</a> <a id="index" class="nav" href="../index/index.html">Index</a> <a id="references" class="nav" href="../references/index.html">References</a>
</DIV>

<H1>Agent Based Model Practical 2</H1>

<DIV>
<H2>Contents</H2>
<UL>
 <LI><A href="#1">1. Recap and preparation</A></LI>
 <LI><A href="#2">2. Using Lists</A></LI>
 <LI><A href="#3">3. Plotting</A></LI>
 <LI><A href="#4">4. Using Loops</A></LI>
 <LI><A href="#5">5. More Plotting</A></LI>
 <LI><A href="#6">6. Code Review and Looking Forward</A></LI>
</UL>
</DIV>


<DIV>
<H2 id="1">1. Recap and preparation</H2>
<P>Your ABM1 'model.py' code should look something like:</P>
<PRE><CODE class="language-python">import random
import math

# Set the pseudo-random seed for reproducibility
random.seed(0)

# Initialise variable x0
x0 = random.randint(0, 99)
print("x0", x0)
# Initialise variable y0
y0 = random.randint(0, 99)
print("y0", y0)

# Change x0 and y0 randomly
rn = random.random()
print("rn", rn)
if rn < 0.5:
    x0 = x0 + 1
else:
    x0 = x0 - 1
print("x0", x0)
rn = random.random()
print("rn", rn)
if rn < 0.5:
    y0 = y0 + 1
else:
    y0 = y0 - 1
print("y0", y0)

# Initialise variable x1
x1 = random.randint(0, 99)
print("x1", x1)
# Initialise variable y1
y1 = random.randint(0, 99)
print("y1", y1)

# Change x1 and y1 randomly
rn = random.random()
print("rn", rn)
if rn < 0.5:
    x1 = x1 + 1
else:
    x1 = x1 - 1
print("x1", x1)
rn = random.random()
print("rn", rn)
if rn < 0.5:
    y1 = y1 + 1
else:
    y1 = y1 - 1
print("y1", y1)

# Calculate the Euclidean distance between (x0, y0) and (x1, y1)
# Set x0 and y0 to equal 0, x1 to equal 3, and y1 to equal 4
x0 = 0
y0 = 0
x1 = 3
y1 = 4
# Calculate the difference in the x coordinates.
dx = x0 - x1
# Calculate the difference in the y coordinates.
dy = y0 - y1
# Square the differences and add the squares
ssd = (dx * dx) + (dy * dy)
print("ssd", ssd)
# Calculate the square root
distance = ssd ** 0.5
print("distance", distance)
distance = math.sqrt(ssd)
print("distance", distance)
</CODE></PRE>


<P>Running the code should produce the following text output:</P>
<PRE>x0 49
y0 97
rn 0.890243920837131
x0 48
rn 0.04048437818077755
y0 98
x1 65
y1 62
rn 0.4049341374504143
x1 66
rn 0.7837985890347726
y1 61
ssd 25
distance 5.0
distance 5.0
</PRE>
<P>In your local code repository src directory create a new
directory called 'abm2'. Open Spyder and save 'model.py' into
the 'abm2' directory.
</P>
</DIV>


<DIV>
<H2 id="2">2. Using Lists</H2>
<P>Rather than handle coordinates for each agent individually, the
coordinates for each agent will be stored in
<a href="../index/index.html#Python_list">lists</a> of length 2, with the first item being an 'x' coordinate, and
the second item being a 'y' coordinate. All agents are also
going to be stored in a list.
</P>
<P>The code is also going to be reorganised so that the agents are
created in a
<a href="../index/index.html#Python_for">for loop</a>, and there will be a second for loop to adjust the coordinates
(move the agents).
</P>
<P>Towards the top of the file (below the import statements and
setting of the random seed) add the following to create a new
empty list called 'agents':
</P>
<PRE><CODE class="language-python"># Create a list to store agents
agents = []
</CODE></PRE>


<P>Next, add coordinates to this list: First add one pair after
initialising 'y0' and 'x0', by adding the following:
</P>
<PRE><CODE class="language-python">agents.append([x0,y0]) # Append to the list agents</CODE></PRE>


<P>Note that '[x0,y0]' creates a list containing 'x0' and 'y0', and
the 'append' function adds this list to the agents list. After
doing this, 'agents[0][0]' is the 'x' coordinate of the first
agent in the agents list and 'agents[0][1]' is the 'y'
coordinate of the first agent in the agents list.
</P>
<P>Go through and replace all the other uses of 'x0' with indexed
list references, i.e. 'agents[0][0]' and 'y0' with
'agents[0][1]' (uses - not the initial assignments). Check your
code still runs.
</P>
<P>The code that creates the first agent and adds this to the
agents list should be as follows:
</P>
<PRE><CODE class="language-python"># Initialise variable x0
x0 = random.randint(0, 99)
print("x0", x0)
# Initialise variable y0
y0 = random.randint(0, 99)
print("y0", y0)
agents.append([x0, y0])
</CODE></PRE>


<P>Note that the variables 'x0' and 'y0' are only created for this
initialisation. Can you think of a way to reduce this code and
do the initialition more succinctly?
</P>
</DIV>


<DIV>
<H2 id="3">3. Plotting</H2>
<P>To plot the agents using <a href="https://matplotlib.org/">Matplotlib</a> add the following import statements:</P>
<PRE><CODE class="language-python">import matplotlib.pyplot as plt
import operator
</CODE></PRE>


<P>And adding the following code to the end of 'model.py':</P>
<PRE><CODE class="language-python"># Plot the agents
plt.scatter(agents[0][0], agents[0][1], color='black')
plt.scatter(agents[1][0], agents[1][1], color='black')
plt.show()
# Get the coordinates with the largest x-coordinate
print(max(agents, key=operator.itemgetter(0)))
</CODE></PRE>


<P>Run 'model.py' and you should see an image output in the
'Plots' pane of Spyder. The image should contain two points.
</P>
<P>Have a look at
<a href="https://matplotlib.org/stable/api/pyplot_summary.html">
the matplotlib pyplot documentation</a>
</P>
<P>After the code that plots the points black, plot the point with
the largest x coordinate red. One way to do this is to store
those coordinates in a variable and then pass the x-coordinate
and y-coordinate as arguments to the command aliased as 'plt'
before the 'show()' command.
</P>
<P>Have a try and don't worry if you don't get this to work.</P>
</DIV>


<DIV>
<H2 id="4">4. Using Loops</H2>
<P>This section guides you through restructuring your code so that
agent initialisation (for all agents) happens first, and moving
(for all agents) happens second. There will be loops for each of
these things and for plotting all the agents.
</P>
<P>To prepare yourself, review your code. In doing so, it might
help to insert some blank lines to separate different parts of
it, and to add more comments to help you understand what it is
doing.
</P>
<P>Add and commit to your local git repository and assuming you are
using GitHub - push your changes to GitHub.
</P>
<P>Comment out the code for initialising and changing the
coordinates of the second agent. After the line of code that
initialises the agent list, add a variable called 'n_agents' and
set this equal to '10'. Then create a
</P>
<a href="../index/index.html#Python_for">for loop</a><P> that uses n_agents to create 10 agents as follows:</P>
<PRE><CODE class="language-python">n_agents = 10
for i in range(n_agents):
    agents.append([random.randint(0, 99), random.randint(0, 99)])
</CODE></PRE>


<P>Check your program still runs.</P>
<P>Delete or comment out any other code that initialises agents.
</P>
<P>Use another for loop to move all 10 agents. And use another for
loop to plot all 10 agents black. Hopefully, there is still a
red coloured dot which gives the location of the agent with the
largest x coordinate.
</P>
<P>Add and commit to your local git repository and assuming you are
using GitHub - push your changes to GitHub.
</P>
</DIV>


<DIV>
<H2 id="5">5. More Plotting</H2>
<P>Similarly to plotting the agent with the largest x coordinate
red, write code to plot the agent with the smallest x coordinate
blue; the largest y coordinate yellow; and the smallest y
coordinate green.
</P>
<P>Add and commit to your local git repository and assuming you are
using GitHub - push your changes to GitHub.
</P>
</DIV>


<DIV>
<H2 id="6">6. Code Review and Looking Forward</H2>
<P>If you managed to complete all parts, then it should be straight
forward to modify your code to run for different numbers of
agent. Have a try and also think about how you would get the
agents to move multiple times.
</P>
<P>If you got stuck, then don't worry, look ahead to the start of
the next ABM practical where some code that does everything is
provided.
</P>
<P>Next we will look in more detail about functions and how to
document them. Then in the next ABM practical: a loop will be
created to simulate movement of the agents multiple times; and
the distance calculation code, which is currently just a test
case, will be changed into a function. Most of the next
practical will be an exercise involving calculating the maximum
distance between agents and timing code to optimise this.
</P>
</DIV>

<DIV>

<P><a id="next" class="nav" href="../functions/index.html">Next: Functions</a></P>

<P>Date last modified: 2026-01-17</P>

<P><a href="https://creativecommons.org/share-your-work/public-domain/cc0/">CC0 Licence</a></P>

</DIV>

</BODY>

</HTML>

