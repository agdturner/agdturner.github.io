<!DOCTYPE html>
<HTML lang=en-GB>

<HEAD>

<TITLE>Modules Page</TITLE>
<!-- Styling -->
<!-- href to be populated by the script (once the DOM is fully loaded) -->
<link id="css" rel="stylesheet" type="text/css" href="">
<script src="/scripts/style.js"></script>
<!-- For styling code -->
<script src="/tools/highlight/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<!-- href to be populated by the script (once the DOM is fully loaded) -->
<link id="code_theme" rel="stylesheet" type="text/css" href="">

</HEAD>

<BODY>

<button id="style_button" onclick="swapStyle()"></button>

<DIV class="navbar">
<a id="home" class="nav" href="../home/index.html">Home</a> <a id="programming" class="nav" href="../programming/index.html">Programming</a> <a id="python" class="nav" href="../python/index.html">Python</a> <a id="variables" class="nav" href="../variables/index.html">Variables</a> <a id="github" class="nav" href="../github/index.html">GitHub</a> <a id="abm1" class="nav" href="../abm1/index.html">ABM1</a> <a id="containers" class="nav" href="../containers/index.html">Containers</a> <a id="branching" class="nav" href="../branching/index.html">Branching</a> <a id="loops" class="nav" href="../loops/index.html">Loops</a> <a id="abm2" class="nav" href="../abm2/index.html">ABM2</a> <a id="functions" class="nav" href="../functions/index.html">Functions</a> <a id="abm3" class="nav" href="../abm3/index.html">ABM3</a> <a id="classes" class="nav" href="../classes/index.html">Classes</a> <a id="abm4" class="nav" href="../abm4/index.html">ABM4</a> <a id="io" class="nav" href="../io/index.html">IO</a> <a id="abm5" class="nav" href="../abm5/index.html">ABM5</a> <a id="modules" class="nav" href="../modules/index.html">Modules</a> <a id="abm6" class="nav" href="../abm6/index.html">ABM6</a> <a id="exceptions" class="nav" href="../exceptions/index.html">Exceptions</a> <a id="abm7" class="nav" href="../abm7/index.html">ABM7</a> <a id="gui" class="nav" href="../gui/index.html">GUI</a> <a id="abm8" class="nav" href="../abm8/index.html">ABM8</a> <a id="web" class="nav" href="../web/index.html">Web</a> <a id="abm9" class="nav" href="../abm9/index.html">ABM9</a> <a id="testing" class="nav" href="../testing/index.html">Testing</a> <a id="index" class="nav" href="../index/index.html">Index</a> <a id="references" class="nav" href="../references/index.html">References</a>
</DIV>

<H1>Modules</H1>

<DIV>
<H2>Contents</H2>
<UL>
 <LI><A href="#1">1. Introduction</A></LI>
 <LI><A href="#2">2. Importing</A></LI>
 <LI><A href="#3">3. Packages</A></LI>
 <LI><A href="#4">4. Third Party Libraries</A></LI>
</UL>
</DIV>

<DIV>
<H2 id="1">1. Introduction</H2>
<P>In Python a 'module' is a single file that may contain classes,
functions and variables. It has to be imported to make these
things accessible and those things are then referred to using
the module name or the alias defined in the import statement and
the dot operator '.'.
</P>
<P>'Packages' are collections of modules structured using a
directory tree.
</P>
<P>A code 'library' is a generic name for a collection of code.
So, a Python library might contain a single module, or multiple
packages.
</P>
</DIV>

<DIV>
<H2 id="2">2. Importing</H2>
<P>The <a href="https://docs.python.org/3/py-modindex.html">Python Module Index</a> is a useful look up for <a href="https://docs.python.org/3/library/">Python Standard Library</a>modules. These modules can be readily imported and used without
needing to customise the environment.
</P>
<P>There are two types of import statement, those that begin with
the keyword 'import' and others that begin with the keyword
'from' and also contain the keyword 'import'.
</P>
<P>The following code imports a module called 'agentframework' and
then constructs an instance of the 'Agent' class as defined in
the 'agentframework' module:
</P>
<pre><code class="language-python">
import agentframework
a = agentframework.Agent()
</code></pre><P>This is a very explicit style. There is little ambiguity about
which 'Agent' class is used - it is the one from the
'agentframework' module.
</P>
<P>Another way to create instances of the 'Agent' class is as
follows:
</P>
<pre><code class="language-python">
from agentframework import Agent
a = Agent()
</code></pre><P>The advantage of this is that it is less verbose when it comes
to lines of code that instantiate instances of the Agent class.
Also this is more memory efficent as it only makes available
that specific class from the 'agentframework' module rather than
keeping the entire module available.
</P>
<P>You may see imports of everything in a module using the star
operator '*', for example:
</P>
<pre><code class="language-python">
from agentframework import *</code></pre><P>This saves having to import multiple classes, but it can be
problematic as what gets imported can replace things imported
before that have the same name. It is good practise to be
explicit and import individually only those things that are
used and to check if an identifier is already in use and if so
use aliases.
</P>
<P>The keyword 'as' can be used to alias a module or class on
import. This can also abbreviate a name, for example the
following are alternatives for creating 'agentframework' 'Agent'
class instances:
</P>
<pre><code class="language-python">
import agentframework as af
a = af.Agent()
</code></pre><pre><code class="language-python">
from agentframework import Agent as A
a = A()
</code></pre><P>The Python interpreter parses modules on import initialising
variables and making functions and classes available for use.
Within the module, any code not in a function or a class is run
when the module is imported as is any code within a class that
is not in a method. This means that sometimes there can be side
effects of importing modules. It can be argued that the less
code that is run when the module is imported the better!
</P>
<P>It is good practise to set up a module so that any code not in
functions is isolated and is not run when the module is
imported. This can be done by ensuring all code not in functions
is within an 'if statement' that has a condition that tests if
the global '__name__' variable equals "__main__":
</P>
<pre><code class="language-python">
if __name__ == "__main__":
    # All code in this is only run when the module is run as a script.
    # It is not run if the module is imported.
</code></pre></DIV>

<DIV>
<H2 id="3">3. Packages</H2>
<P>Consider the following package file structure:</P>
<pre><code class="language-python">
/abm
    __init__.py
    __main__.py
    /models
        __init__.py
        model.py
    /my_modules
        __init__.py
        agentframework.py
</code></pre><P>The '__init__.py' files can be empty, but they must exist so
the Python interpreter recognises these subdirectories as
subpackages and allows import statements to work as follows:
</P>
<pre><code class="language-python">
import abm.my_modules.agentframework.Agent</code></pre><P>This import statement will work so long as there is an 'Agent'
class within the 'agentframework' module
</P>
<P>The base '__init__.py' file in the 'abm' directory can also
include a text representation of a specially named list which
will import specific subpackages if a star import statement is
used. For example, if the following were the contents of
'/abm/__init__.py':
</P>
<PRE>__all__ = ["models", "my_modules"]
</PRE>
<P>Then, the following import statement would import both the
'models' and 'my_modules' subpackages:
</P>
<pre><code class="language-python">
from abm import *</code></pre><P>Packages are set to run as applications by placing startup
code in a file called '__main__.py'. The following command would
then run the application when issued at the prompt:
</P>
<PRE>python -m packagename</PRE>
</DIV>

<DIV>
<H2 id="4">4. Third Party Libraries</H2>
<P><a href="https://www.anaconda.com/">Anaconda</a> comes bundled with numerous third party libraries.</P>
<P>Exactly what Anaconda comes with varies with the version and
underlying operating system. Details can be found via the
following URL:
<a href="https://docs.anaconda.com/anaconda/packages/pkg-docs/">
https://docs.anaconda.com/anaconda/packages/pkg-docs/</a>
</P>
<P>There are many additional libraries that might be useful for
geographical data processing or whatever you may be doing.
</P>
<P>Many Python libraries are made available via null - the Python Package Index (PyPi) including:</P>
<UL>
<LI><a href="https://pro.arcgis.com/en/pro-app/latest/arcpy/get-started/what-is-arcpy-.htm">
ArcPY</a>
- <a href="https://www.esri.com/en-us/arcgis/products/arcgis-pro/overview">ArcGIS Pro</a> API.
</LI>
<LI><a href="https://beautiful-soup-4.readthedocs.io/">
beautiful-soup</a>
- for parsing HTML and XML files.
</LI>
<LI><a href="http://www.celeryproject.org/">celery</a>
- useful for distributed computing (splitting up programs and
running them on multiple computers).
</LI>
<LI><a href="https://contextily.readthedocs.io/">
Contextily</a>
- for retrieving tile maps from the Internet, then adding them
to matplotlib figures or writing them to files.
</LI>
<LI><a href="https://github.com/Toblerity/Fiona">Fiona</a>
- reads and writes geographic data files.
</LI>
<LI><a href="https://python-visualization.github.io/folium/">
Folium</a> - for visualising data on an interactive javascript
map.
</LI>
<LI><a href="https://geopandas.org/">Geopandas</a>
- extends the data types used by 'pandas' to include geometry
(and has support for many geometry operations).
</LI>
<LI><a href="https://geopy.readthedocs.io/">GeoPy</a>
- a client for several popular geocoding web services.
</LI>
<LI><a href="https://matplotlib.org/">matplotlib</a>
- a comprehensive library for creating static, animated, and
interactive visualizations.
</LI>
<LI><a href="http://www.nltk.org/">nltk</a>
- a Natural Language Toolkit for parsing and analysing text.
</LI>
<LI><a href="http://www.numpy.org/">numpy</a>
- useful for mathematics and statistics, especially
multi-dimensional array manipulation.
</LI>
<LI><a href="http://pandas.pydata.org/">pandas</a>
- useful for a range of other things including time series
analysis.
</LI>
<LI><a href="https://docs.qgis.org/3.10/en/docs/pyqgis_developer_cookbook/">
PyQGIS</a>
- <a href="https://www.qgis.org/">QGIS</a> API.
</LI>
<LI><a href="http://scikit-learn.org/">scikit-learn</a>
- useful for scientific analysis and machine learning.
</LI>
</UL>
<P>For details on installing packages see:
<a href="../python/index.html#9">Python Packages and Environment Management</a>.
</P>
</DIV>

<DIV>

<div>
<p><a id="next" class="nav" href="../abm6/index.html">Next: ABM6</a></p>
</div>
<P>Date last modified: 2023-09-13</P>

<P><a href="https://creativecommons.org/share-your-work/public-domain/cc0/">CC0 Licence</a></P>

</DIV>

</BODY>

</HTML>

