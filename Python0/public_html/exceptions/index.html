<!DOCTYPE html>
<HTML lang=en-GB>

<HEAD>

<TITLE>Exceptions Page</TITLE>
<!-- Styling -->
<!-- href to be populated by the script (once the DOM is fully loaded) -->
<link id="css" rel="stylesheet" type="text/css" href="" />
<script src="/scripts/style.js"></script>
<!-- For styling code -->
<script src="/tools/highlight/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<!-- href to be populated by the script (once the DOM is fully loaded) -->
<link id="code_theme" rel="stylesheet" type="text/css" href="" />

</HEAD>

<BODY>

<button id="style_button" onclick="swapStyle()"></button>

<DIV class="navbar">
<a id="home" class="nav" href="../home/index.html">Home</a> <a id="programming" class="nav" href="../programming/index.html">Programming</a> <a id="python" class="nav" href="../python/index.html">Python</a> <a id="variables" class="nav" href="../variables/index.html">Variables</a> <a id="github" class="nav" href="../github/index.html">GitHub</a> <a id="abm1" class="nav" href="../abm1/index.html">ABM1</a> <a id="containers" class="nav" href="../containers/index.html">Containers</a> <a id="branching" class="nav" href="../branching/index.html">Branching</a> <a id="loops" class="nav" href="../loops/index.html">Loops</a> <a id="abm2" class="nav" href="../abm2/index.html">ABM2</a> <a id="functions" class="nav" href="../functions/index.html">Functions</a> <a id="abm3" class="nav" href="../abm3/index.html">ABM3</a> <a id="classes" class="nav" href="../classes/index.html">Classes</a> <a id="abm4" class="nav" href="../abm4/index.html">ABM4</a> <a id="io" class="nav" href="../io/index.html">IO</a> <a id="abm5" class="nav" href="../abm5/index.html">ABM5</a> <a id="modules" class="nav" href="../modules/index.html">Modules</a> <a id="abm6" class="nav" href="../abm6/index.html">ABM6</a> <a id="exceptions" class="nav" href="../exceptions/index.html">Exceptions</a> <a id="abm7" class="nav" href="../abm7/index.html">ABM7</a> <a id="gui" class="nav" href="../gui/index.html">GUI</a> <a id="abm8" class="nav" href="../abm8/index.html">ABM8</a> <a id="web" class="nav" href="../web/index.html">Web</a> <a id="abm9" class="nav" href="../abm9/index.html">ABM9</a> <a id="testing" class="nav" href="../testing/index.html">Testing</a> <a id="index" class="nav" href="../index/index.html">Index</a> <a id="references" class="nav" href="../references/index.html">References</a>
</DIV>

<H1>Exceptions</H1>

<DIV>
<H2>Contents</H2>
<UL>
 <LI><A href="#1">1. Introduction</A></LI>
 <LI><A href="#2">2. Try-Except</A></LI>
 <LI><A href="#3">3. Raising Exceptions</A></LI>
 <LI><A href="#4">4. Else and Finally</A></LI>
 <LI><A href="#5">5. System Exit</A></LI>
</UL>
</DIV>

<DIV>
<H2 id="1">1. Introduction</H2>
<P>A Python exception is 'raised' when the Python interpreter
encounters an error. There are numerous types of exception, all
are types of
<a href="https://docs.python.org/3/library/exceptions.html#BaseException">BaseException</a>.</P>
<P>The raised exception is an object which contains details of the
 error and what code was being executed when the error was
 encountered.
</DIV>

<DIV>
<H2 id="2">2. Try-Except</H2>
<P>If it is suspected that code might generate an exception, or if
code raises an exception and analysis of this is to be done,
then a
<a href="https://docs.python.org/3/reference/compound_stmts.html#try">try</a> compound statement can be used with an 'except' clause. This
tries to run the code in the 'try' section and if specific
exceptions are raised, then the code in the except clause is
run.
</P>
<P>Consider the following example:</P>
<pre><code class="language-python">
# Catch an exception
import random
try:
    a = 1/random.random()
    # Random generates number in
    # range [0,1) so
    # ZeroDivisionError possible
except:
    a = 0
print("Done")
</code></pre><P>To reiterate, this will run the 'try' clause of the compound
statement, and if an exception is raised in running that, then
(and only then) will the 'except' clause run.
</P>
<P>The 'except' clause in the example above catches any exception
type. It is possible to be more specific and catch particular
types of exception, for example, the following example will only
run the except clause if the exception thrown is a
<a href="https://docs.python.org/3/library/exceptions.html#ZeroDivisionError">ZeroDivisionError</a>.</P>
<pre><code class="language-python">
# Catch a specific exception:
import random
try:
    a = 1/random.random()
    # Random generates number in
    # range 0,1 so
    # ZeroDivisionError possible
except ZeroDivisionError:
    a = 0
print("Done")
</code></pre><P>There is a
<a href="https://docs.python.org/3/library/exceptions.html#exception-hierarchy">
heirarchy of exception types</a>.
</P>
<P>If an exception is encountered and is not of the type handled
by an except clause, it is raised to where the code that raised
the exception was called from. This raising continues until
there is exception handling or until the exception reaches the
top level when the program exits and a stacktrace error message
(which lists exception raising details) is printed.
</P>
<P>More than one type of exception can be handled simultaneously in
a couple of ways:
</P>
<OL>
<LI>The except clause can contain a tuple of types, for example:<pre><code class="language-python">
import random
try:
    a = 1/random.random()
except (ZeroDivisionError, SystemError):
    a = 0
print("Done")
</code></pre></LI>
<LI>Using multiple except clauses, for example:<pre><code class="language-python">
import random
try:
    a = 1/random.random()
except ZeroDivisionError:
    a = 0
except SystemError:
    print("Warning: SystemError")
    a = 0
print("Done")
</code></pre></LI>
</OL>
</DIV>

<DIV>
<H2 id="3">3. Raising Exceptions</H2>
<P>Exceptions are raised automatically if they are encountered and
not handled in an 'except' clause.
</P>
<P>The keyword 'raise' can be used to raise an exception by simply
giving the exception type. The following raises a
null.</P>
<pre><code class="language-python">
raise SystemError</code></pre><P>New types of exception can be defined by subclassing an
exception from the builtins module.
</P>
</DIV>

<DIV>
<H2 id="4">4. Else and Finally</H2>
<P>To run something only if exceptions are not raised, add an
'else' clause, for example:
</P>
<pre><code class="language-python">
import random
try:
    a = 1/random.random()
except:
    a = 0
else:
    print(a)
    # Exceptions here are raised.
print("Done")
</code></pre><P>To run code whether an exception is raised or not, then add a
'finally' clause, for example:
</P>
<pre><code class="language-python">
import random
try:
    a = 1/random.random()
except:
    a = 0
finally:
    if a == None:
        a = -1
print("Done")
</code></pre><!--<P>In executing the finally clause, any exceptions encountered are
raised after the finally has run.
</P>
<P>Finally clauses are always executed, even if there is a Return
Statement (return) in the try or except clauses.
</P>
<P>Exceptions raised in executing the finally clause are nested
within the prior saved exception.
</P>
<P>Break and return statements within a finally clause will delete
the saved exception.
</P>
<P>If the Try-Except compound statement is in a loop, then the
Continue Keyword (continue) can be used to execute the finally
clause before restarting the loop, and the Break Keyword (break)
can be used to execute the finally clause.
</P>
--></DIV>

<DIV>
<H2 id="5">5. System Exit</H2>
<P>To exit a program at any point, call the
'<a href="https://docs.python.org/3/library/sys.html#sys.exit">
exit function</a>'
from the
<a href="https://docs.python.org/3/library/sys.html">sys module</a>. For example:</P>
<pre><code class="language-python">
import sys
sys.exit()
</code></pre><P>This has an arg option:</P>
<pre><code class="language-python">
sys.exit(arg)</code></pre><P>Where arg is a number that the system will report. Zero is
usually regarded as exiting with no issues.
</P>
<P>For details on error codes, see:
<a href="https://docs.python.org/3/library/errno.html">errno</a>
- a special module on system error codes.
</P>
</DIV>

<DIV>

<div>
<p><a id="next" class="nav" href="../abm7/index.html">Next: ABM7</a></p>
</div>
<P>Date last modified: 2023-09-12</P>

<P><a href="https://creativecommons.org/share-your-work/public-domain/cc0/">CC0 Licence</a></P>

</DIV>

</BODY>

</HTML>

