<!DOCTYPE html>
<HTML lang=en-GB>

<HEAD>

<TITLE>Python Page</TITLE>
<!-- Styling -->
<!-- href to be populated by the script (once the DOM is fully loaded) -->
<link id="css" rel="stylesheet" type="text/css" href="">
<script src="/scripts/style.js"></script>
<!-- For styling code -->
<script src="/tools/highlight/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<!-- href to be populated by the script (once the DOM is fully loaded) -->
<link id="code_theme" rel="stylesheet" type="text/css" href="">
<link id="css1" rel="stylesheet" type="text/css" href="">
<link id="css2" rel="stylesheet" type="text/css" href="">

</HEAD>

<BODY>

<button id="style_button" onclick="swapStyle()"></button>

<DIV class="navbar">
<a id="home" class="nav" href="../home/index.html">Home</a> <a id="programming" class="nav" href="../programming/index.html">Programming</a> <a id="python" class="nav" href="../python/index.html">Python</a> <a id="variables" class="nav" href="../variables/index.html">Variables</a> <a id="github" class="nav" href="../github/index.html">GitHub</a> <a id="abm1" class="nav" href="../abm1/index.html">ABM1</a> <a id="containers" class="nav" href="../containers/index.html">Containers</a> <a id="branching" class="nav" href="../branching/index.html">Branching</a> <a id="loops" class="nav" href="../loops/index.html">Loops</a> <a id="abm2" class="nav" href="../abm2/index.html">ABM2</a> <a id="functions" class="nav" href="../functions/index.html">Functions</a> <a id="abm3" class="nav" href="../abm3/index.html">ABM3</a> <a id="classes" class="nav" href="../classes/index.html">Classes</a> <a id="abm4" class="nav" href="../abm4/index.html">ABM4</a> <a id="io" class="nav" href="../io/index.html">IO</a> <a id="abm5" class="nav" href="../abm5/index.html">ABM5</a> <a id="modules" class="nav" href="../modules/index.html">Modules</a> <a id="abm6" class="nav" href="../abm6/index.html">ABM6</a> <a id="exceptions" class="nav" href="../exceptions/index.html">Exceptions</a> <a id="abm7" class="nav" href="../abm7/index.html">ABM7</a> <a id="gui" class="nav" href="../gui/index.html">GUI</a> <a id="abm8" class="nav" href="../abm8/index.html">ABM8</a> <a id="web" class="nav" href="../web/index.html">Web</a> <a id="abm9" class="nav" href="../abm9/index.html">ABM9</a> <a id="testing" class="nav" href="../testing/index.html">Testing</a> <a id="index" class="nav" href="../index/index.html">Index</a> <a id="references" class="nav" href="../references/index.html">References</a>
</DIV>

<H1>Python</H1>

<DIV>
<H2>Contents</H2>
<UL>
 <LI><A href="#1">1. Introduction</A></LI>
 <LI><A href="#2">2. Python 3</A></LI>
 <LI><A href="#3">3. Running Python</A>
 <UL>
  <LI><A href="#3.1">3.1. Python REPL</A>
  <UL>
   <LI><A href="#3.1.2">3.1.2. Hello World</A></LI>
   <LI><A href="#3.1.3">3.1.3. Numerical calculations</A></LI>
  </UL>
  </LI>
  <LI><A href="#3.2">3.2. Loading Modules and Using Functions</A></LI>
  <LI><A href="#3.3">3.3. The Help System</A></LI>
 </UL>
 </LI>
 <LI><A href="#4">4. Basic Python Syntax</A>
 <UL>
  <LI><A href="#4.1">4.1. Syntax Errors</A></LI>
  <LI><A href="#4.2">4.2. Statements</A></LI>
  <LI><A href="#4.3">4.3. Comments</A></LI>
  <LI><A href="#4.4">4.4. Code Layout</A></LI>
  <LI><A href="#4.5">4.5. Delimiters, Literals and Operators</A></LI>
  <LI><A href="#4.6">4.6. Identifiers and Keywords</A></LI>
  <LI><A href="#4.7">4.7. Style</A></LI>
 </UL>
 </LI>
 <LI><A href="#5">5. Running a file of Python commands</A></LI>
 <LI><A href="#6">6. Jupyter Notebook</A></LI>
 <LI><A href="#7">7. Integrated Development Environments</A>
 <UL>
  <LI><A href="#7.1">7.1. IDLE</A></LI>
  <LI><A href="#7.2">7.2. Spyder</A></LI>
  <LI><A href="#7.3">7.3. Other IDEs</A></LI>
 </UL>
 </LI>
 <LI><A href="#8">8. QGIS Desktop Python Console</A></LI>
 <LI><A href="#9">9. Python Packages and Environment Management</A></LI>
 <LI><A href="#10">10. Recap and Expectations</A></LI>
</UL>
</DIV>

<DIV>
<H2 id="1">1. Introduction</H2>
<P><a href="https://en.wikipedia.org/wiki/Python_(programming_language)">Python</a> is a popular and powerful high-level programming language supported and developed by the
<a href="https://www.python.org/psf/">Python Software Foundation</a> - an organisation with a mission to promote, protect, and advance the language, and support and facilitate the growth of a diverse and international community of Python programmers.
</P>
<P>The <a href="https://docs.python.org/3/library/">Python 3 Library</a> and various Python <a href="https://en.wikipedia.org/wiki/Source_code">source code</a> interpreters are freely available in source and binary forms for all major platforms from the <a href="https://www.python.org/">Python Website</a>, and these may be freely distributed. Python interpreters translate Python source code into machine instructions that work at a much lower level. The need for interpretation is what classifies Python as a high-level language.
</P>
<P>The <a href="https://www.python.org/">Python Website</a> contains distributions of and pointers to many third party Python libraries, tools, and additional documentation. </P>
<P>A particularly useful page for beginners is the <a href="https://docs.python.org/3/">Python 3 Documentation</a>.</P>
</DIV>

<DIV>
<H2 id="2">2. Python 3</H2>
<P>Python 3 was first released in 2008. For several years both Python 2 and Python 3 were developed and supported, but eventually in January 2020 development and maintenance of Python 2 ceased. We will not look at the differences between Python 2 and Python 3 in this course and will focus just on Python 3. </P>
<P>Python 3.10 was released on the 4th of October 2021. Python 3.11 was released on the 24th of October 2022. Python 3.12 is due for release in October 2023. For each major incremental Python 3 release there is a <a href="https://docs.python.org/3/whatsnew">Python 3 Documentation: What's New</a> that introduces what's new:</P>
<UL>
<LI><a href="https://docs.python.org/3/whatsnew/3.0.html">What's New In Python 3.0</a></LI>
<LI><a href="https://docs.python.org/3/whatsnew/3.1.html">What's New In Python 3.1</a></LI>
<LI><a href="https://docs.python.org/3/whatsnew/3.2.html">What's New In Python 3.2</a></LI>
<LI><a href="https://docs.python.org/3/whatsnew/3.3.html">What's New In Python 3.3</a></LI>
<LI><a href="https://docs.python.org/3/whatsnew/3.4.html">What's New In Python 3.4</a></LI>
<LI><a href="https://docs.python.org/3/whatsnew/3.5.html">What's New In Python 3.5</a></LI>
<LI><a href="https://docs.python.org/3/whatsnew/3.6.html">What's New In Python 3.6</a></LI>
<LI><a href="https://docs.python.org/3/whatsnew/3.7.html">What's New In Python 3.7</a></LI>
<LI><a href="https://docs.python.org/3/whatsnew/3.8.html">What's New In Python 3.8</a></LI>
<LI><a href="https://docs.python.org/3/whatsnew/3.9.html">What's New In Python 3.9</a></LI>
<LI><a href="https://docs.python.org/3/whatsnew/3.10.html">What's New In Python 3.10</a></LI>
<LI><a href="https://docs.python.org/3/whatsnew/3.11.html">What's New In Python 3.11</a></LI>
</UL>
<P>Changes are marked against numbered Python Enhancement Proposals (PEPs). There is a <a href="https://peps.python.org/">Python Enhancement Proposal Website</a> which has existed since July 2000. PEPs are design documents providing information to the Python community, or describing a new feature for Python or its processes or environment. A PEP should provide a concise technical specification of the feature and a rationale for the feature. PEPs allow the community of Python users to plan ahead and  get involved in language development. </P>
<P>Most changes in a major version of Python are <a href="https://en.wikipedia.org/wiki/Backward_compatibility">backward compatible</a>, but some are not.</P>
<P> Usually, a new interpreter is needed to take advantage of new language features, whereas a newer interpreter will often produce the same results from code interpreted with an older interpreter. However, it is important to bear in mind that code run with one interpreter might behave differently or produce different results when run with another interpreter. <a href="https://en.wikipedia.org/wiki/Regression_testing">Regression testing</a> which checks key results are <a href="https://en.wikipedia.org/wiki/Reproducibility">reproducibile</a> is generally important in scientific research.</P>
<P> There is a vast ecosystem of third party Python libraries. Much of this is made available as packages via the null (PyPI).</P>
<P> Below, in <A href="#9">Section 9</A>, there is an exercise that involves installing Python packages from PyPI and that links to details about how to package code and make it available via PyPI. </P>
<P>The <a href="https://docs.python.org/3/tutorial/">Python 3 Documentation: Tutorial</a> is another useful learning resource for learning Python.
</P>
</DIV>

<DIV>
<H2 id="3">3. Running Python</H2>
<P>Python instructions also known as 'commands' or 'statements', can be entered one at a time at a
<a href="https://en.wikipedia.org/wiki/Command-line_interface">command-line interface</a> or passed in a file.</P>
<P> Check if there is a version of Python already on your <a href="https://en.wikipedia.org/wiki/PATH_(variable)">PATH</a> by running a 'Terminal' or 'Command Window' and entering the following at the prompt:
</P>
<PRE>python --version</PRE>
<P>If 'python' cannot be found, then it is most likely that Python is not installed. If a version of Python is available, then the version of it should be reported.</P>
<P><a href="https://www.anaconda.com/">Anaconda</a> is a data science platform. It contains: <a href="https://docs.conda.io/">Conda</a> - an environment manager; a Python interpreter; some commonly used third party Python packages; and, some useful additional tools. It is available at the University of Leeds via 'AppsAnywhere' using machines on campus or the 'Academic' <A href="https://wvd.leeds.ac.uk">University Windows Virtual Desktop</A>.</P>
<P> Anaconda can also be download and installed. If you choose to do this, then it is recommended to select the default install options to avoid interfering with any other version of Python already installed. By default, Anaconda installs into the user home directory.</P>
<DIV>
<H3 id="3.1">3.1. Python REPL</H3>
<DIV>
<H4 id="3.1.2">3.1.2. Hello World</H4>
<P>Open an 'Anaconda prompt'. On Windows the prompt should look something like:</P>
<PRE>(base) C:\></PRE>
<P>Here, 'base' is the activated Python environment and 'C:\' is the current drive and working directory. Enter:</P>
<PRE>python --version</PRE>
<P>This should inform you about the version of Python that came with Anaconda. Enter:</P>
<PRE>python</PRE>
<P>You should arrive at the 'Python prompt' that looks something like:</P>
<PRE>>>></PRE>
<P>This is a Python <a href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop">REPL</a> environment. Enter:</P>
<PRE>print("Hello World")
</PRE>
<P>You should see the following output:</P>
<PRE>Hello World</PRE>
<DIV>
<H4 id="3.1.3">3.1.3. Numerical calculations</H4>
<P>The Python prompt can be used for some basic calculations. Enter:
</P>
<PRE>2 + 3</PRE>
<P>You should see the result of adding the number 2 to the number 3:
</P>
<PRE>5</PRE>
<P>The plus symbol '+' in this instance acts as an addition operator. This is a '
<a href="https://docs.python.org/3/library/stdtypes.html">Built-in Type</a>' operator that works with specific types of variables. Multiplication can be done similarly using an asterix '*' symbol; and division can be done using the forward slash '/' symbol.</P>
<P>Dividing '3' by '2' in this way results not in an integer, but in '1.5'. In some programming languages dividing by an integer will result in an integer. Indeed this used to be the case in an old version of Python!</P>
<P>Trying to evaluate a division by zero results in a <a href="https://docs.python.org/3/library/exceptions.html#ZeroDivisionError">ZeroDivisionError</a>.</P>
<P>Try multiplying and dividing some numbers. Try dividing one by zero:</P>
<PRE>1 / 0</PRE>
<P>Which should result in:</P>
<PRE>Traceback (most recent call last):
    File "&lt;stdin>", line 1, in <module>
  ZeroDivisionError: division by zero
</PRE>
<P>A <a href="https://docs.python.org/3/library/exceptions.html#ZeroDivisionError">ZeroDivisionError</a> is an <a href="https://docs.python.org/3/library/exceptions.html">exception</a> that is 'raised' in such circumstances. It is good to get familiar with error messages which are typically printed to the console. A key part of learning to program is about interpreting error messages and thinking about what to do to avoid and handle errors/exceptions.</P>
<P>Try some more calculations. Calculate '2' to the power of '64':
</P>
<PRE>2 ** 64</PRE>
<P>The result is an integer with twenty digits. Try:</P>
<PRE>2 ** 1000000</PRE>
<P>The result is an integer with '301030' digits. It may take noticeably longer to compute and display this number...</P>
<P>One way to calculate how many digits there are is to pass the result into the <a href="https://docs.python.org/3/library/functions.html#func-str">str</a> function and to pass the result of this into the <a href="https://docs.python.org/3/library/functions.html#len">len</a> function as follows:</P>
<PRE>len(str(2 ** 1000000))</PRE>
<P>Note how things are passed into the two functions.</P>
<P>Increasing the exponent power by a further multiple of ten should give ten times more digits and take significantly longer to compute and display. try it:</P>
<PRE>len(str(2 ** 10000000))</PRE>
<P>While waiting for an answer, open another Anaconda prompt to look at some small numbers close to zero. Enter:
</P>
<PRE>1 / 10
1 / 100
1 / 1000
1 / 10000
1 / 100000
</PRE>
<P>Notice how the format of the number printed out changes with the last command. '1e-05 ' is '0.00001' in scientific notation where the letter 'e' stands for 'multiply by 10 raised to the power of'. Try:</P>
<PRE>1/(2**1074)</PRE>
<P>This will probably result in:</P>
<PRE>5e-324</PRE>
<P>Try:</P>
<PRE>1/(2**1075)</PRE>
<P>Which will probably result in:</P>
<PRE>0.0</PRE>
<P>The result is rounded down to 0.0 as this is the nearest 'Float' type number value to the true value!</P>
<DIV>
<H3 id="3.2">3.2. Loading Modules and Using Functions</H3>
<P>Some mathematical operators are built-in as delimiters. Others can be found in the , but they are  '+' and '*' are shorthand for functions that reside in the <a href="https://docs.python.org/3/library/operator.html">operator</a> module.</P>
<P>Enter:</P>
<PRE>operator.add(2, 3)</PRE>
<P>This should raise a <a href="https://docs.python.org/3/library/exceptions.html#NameError">NameError</a>:</P>
<PRE>Traceback (most recent call last):
    File "&lt;stdin>", line 1, in &lt;module>
  NameError: name 'operator' is not defined
</PRE>
<P>The NameError is raised as the operator module has not been imported.
</P>
<P>Enter:</P>
<PRE>dir()</PRE>
<P>This runs (or calls) the function '<a href="https://docs.python.org/3/library/functions.html#dir">dir</a>'. Function calls are easy to spot as after the function name there are start and end parentheses. In this function call the function is passed no arguments - as there is nothing between the start and end parentheses. The output is a list of names in the current local scope:</P>
<PRE>['__annotations__', '__builtins__', '__doc__', '__loader__', '__name__', '__package__', '__spec__']</PRE>
<P>The list is alphabetically ordered. You can tell it is a list as it starts with an open square bracket '[' and ends with a closing square bracket ']', and each item is separated with a comma ','.</P>
<P>To import and load the operator module and see that it is loaded, enter:</P>
<PRE>import operator
dir()
</PRE>
<P>The operator module should now be in the list.</P>
<P>Enter:</P>
<PRE>operator.add(2, 3)</PRE>
<P>Now, you should not get the NameError encountered before the operator module was imported, but a result.</P>
<P>The dot '.' in this command effectively instructs the Python interpreter to look in the thing on the left (of the dot) to find the thing on the right (of the dot). So, the expression looks inside the operator module for the function 'add', and passes into it the two parameters in the given order. The function returns the result of summing these two parameters as they are numbers, and the result is displayed.</P>
<P>To list the identifiers in the operator module, enter:</P>
<PRE>dir(operator)</PRE>
<P>It is quite a long list!</P>
<P>There are numerous functions that have a name starting and ending with a double underscore '__'. These are not normally called directly, but they can be.</P>
<P>Enter:</P>
<PRE>operator.__add__(2, 3)</PRE>
<P>Python does not exert access control on variables and functions. A naming convention is used to indicate to users whether a variable or function is meant to be accessed from outside the module. Underscores '_' and double underscores '__' at the start and/or end of identifiers have a special meaning in Python. As a general rule, you should not modify anything with these in their name directly.</P>
<P>Have a play and use some other functions from the operator module.
</P>
<DIV>
<H3 id="3.3">3.3. The Help System</H3>
<a href="https://docs.python.org/3/library/functions.html#help"></a><P>At the Python prompt, enter:</P>
<PRE>help(operator.add)</PRE>
<P>This prints out some information about how to use the
<a href="https://docs.python.org/3/library/operator.html#operator.add">
operator module function add</a>.
</P>
<P>Enter the following to enter the help system:</P>
<PRE>help()</PRE>
<P>The prompt should change to look like:</P>
<PRE>help> </PRE>
<P>Read what is printed:</P>
<PRE>Welcome to Python 3.9's help utility!

If this is your first time using Python, you should definitely check out
the tutorial on the Internet at https://docs.python.org/3.9/tutorial/.

Enter the name of any module, keyword, or topic to get help on writing
Python programs and using Python modules.  To quit this help utility and
return to the interpreter, just type "quit".

To get a list of available modules, keywords, symbols, or topics, type
"modules", "keywords", "symbols", or "topics".  Each module also comes
with a one-line summary of what it does; to list the modules whose name
or summary contain a given string such as "spam", type "modules spam".
</PRE>
<P>Enter:</P>
<PRE>modules</PRE>
<P>It may take a few minutes to report a set of warnings and a
list of available modules:
</P>
<PRE>Cython              comtypes            mock                socks
IPython             concurrent          modulefinder        sockshandler
OpenSSL             conda               mpmath              sortedcollections
PIL                 conda_build         msgpack             sortedcontainers
PyQt5               conda_content_trust msilib              soupsieve
TBB                 conda_env           msvcrt              sphinx
__future__          conda_pack          multipledispatch    spyder
_abc                conda_package_handling multiprocessing     spyder_kernels
_aix_support        conda_token         munkres             sqlalchemy
_argon2_cffi_bindings conda_verify        mypy_extensions     sqlite3
_ast                configparser        nacl                sre_compile
_asyncio            constantly          navigator_updater   sre_constants
_bisect             contextlib          nbclassic           sre_parse
_black_version      contextvars         nbclient            ssl
_blake2             cookiecutter        nbconvert           sspi
_bootlocale         copy                nbformat            sspicon
_bootsubprocess     copyreg             nest_asyncio        stat
_bz2                crypt               netbios             statistics
_cffi_backend       cryptography        netrc               statsmodels
_codecs             cssselect           networkx            storemagic
_codecs_cn          csv                 nltk                string
_codecs_hk          ctypes              nntplib             stringprep
_codecs_iso2022     curl                nose                struct
_codecs_jp          curses              notebook            subprocess
_codecs_kr          cwp                 nt                  sunau
_codecs_tw          cycler              ntpath              symbol
_collections        cython              ntsecuritycon       sympy
_collections_abc    cythonmagic         nturl2path          sympyprinting
_compat_pickle      cytoolz             numba               symtable
_compression        daal4py             numbergen           sys
_contextvars        dask                numbers             sysconfig
_csv                dataclasses         numexpr             tables
_ctypes             datashader          numpy               tabnanny
_ctypes_test        datashape           numpydoc            tabulate
_datetime           datetime            odbc                tarfile
_decimal            dateutil            olefile             tbb
_distutils_hack     dbi                 onedal              tblib
_elementtree        dbm                 opcode              telnetlib
_functools          dde                 openpyxl            tempfile
_hashlib            debugpy             operator            tenacity
_heapq              decimal             optparse            terminado
_imp                decorator           os                  test
_io                 defusedxml          packaging           test_pycosat
_json               diff_match_patch    pandas              testpath
_locale             difflib             pandocfilters       tests
_lsprof             dill                panel               text_unidecode
_lzma               dis                 param               textdistance
_markupbase         distributed         paramiko            textwrap
_md5                distutils           parsel              this
_msi                doctest             parser              threading
_multibytecodec     docutils            parso               threadpoolctl
_multiprocessing    email               partd               three_merge
_nsis               encodings           past                tifffile
_opcode             ensurepip           pathlib             time
_operator           entrypoints         pathspec            timeit
_osx_support        enum                patsy               timer
_overlapped         erfa                pdb                 tinycss
_peg_parser         errno               pep8                tkinter
_pickle             et_xmlfile          perfmon             tldextract
_plotly_future_     fastjsonschema      pexpect             tlz
_plotly_utils       faulthandler        pickle              token
_py_abc             filecmp             pickleshare         tokenize
_pydecimal          fileinput           pickletools         toml
_pyio               filelock            pip                 tomli
_pyrsistent_version flake8              pipes               tomlkit
_pytest             flask               pkg_resources       toolz
_queue              fnmatch             pkginfo             tornado
_random             fontTools           pkgutil             tqdm
_sha1               formatter           platform            trace
_sha256             fractions           platformdirs        traceback
_sha3               fsspec              plistlib            tracemalloc
_sha512             ftplib              plotly              traitlets
_signal             functools           pluggy              tty
_sitebuiltins       future              poplib              turtle
_socket             gc                  posixpath           turtledemo
_sqlite3            genericpath         poyo                twisted
_sre                gensim              pprint              types
_ssl                getopt              profile             typing
_stat               getpass             prometheus_client   typing_extensions
_statistics         gettext             prompt_toolkit      ujson
_string             glob                protego             unicodedata
_strptime           glob2               pstats              unidecode
_struct             graphlib            psutil              unittest
_symtable           greenlet            pty                 urllib
_system_path        gzip                ptyprocess          urllib3
_testbuffer         h5py                pvectorc            uu
_testcapi           hamcrest            py                  uuid
_testconsole        hashlib             py_compile          venv
_testimportmultiple heapdict            pyasn1              w3lib
_testinternalcapi   heapq               pyasn1_modules      warnings
_testmultiphase     hmac                pyclbr              watchdog
_thread             holoviews           pycodestyle         wave
_threading_local    html                pycosat             wcwidth
_tkinter            http                pycparser           weakref
_tracemalloc        hvplot              pyct                webbrowser
_uuid               hyperlink           pycurl              webencodings
_warnings           idlelib             pydispatch          websocket
_weakref            idna                pydoc               werkzeug
_weakrefset         imagecodecs         pydoc_data          wheel
_win32sysloader     imageio             pydocstyle          widgetsnbextension
_winapi             imagesize           pyexpat             win2kras
_winxptheme         imaplib             pyflakes            win32api
_xxsubinterpreters  imghdr              pygments            win32clipboard
_yaml               imp                 pylab               win32com
_zoneinfo           importlib           pylint              win32con
abc                 importlib_metadata  pyls_spyder         win32console
adodbapi            incremental         pylsp               win32cred
afxres              inflection          pylsp_black         win32crypt
aifc                iniconfig           pylsp_jsonrpc       win32cryptcon
alabaster           inspect             pyodbc              win32ctypes
anaconda_navigator  intake              pyparsing           win32event
anaconda_project    intervaltree        pyrsistent          win32evtlog
antigravity         io                  pytest              win32evtlogutil
anyio               ipaddress           pythoncom           win32file
appdirs             ipykernel           pytz                win32gui
argon2              ipykernel_launcher  pyviz_comms         win32gui_struct
argparse            ipython_genutils    pywin               win32help
array               ipywidgets          pywin32_bootstrap   win32inet
arrow               isapi               pywin32_testutil    win32inetcon
ast                 isort               pywintypes          win32job
astroid             isympy              pywt                win32lz
astropy             itemadapter         pyximport           win32net
asynchat            itemloaders         qdarkstyle          win32netcon
asyncio             itertools           qstylizer           win32pdh
asyncore            itsdangerous        qtawesome           win32pdhquery
atexit              jdcal               qtconsole           win32pdhutil
atomicwrites        jedi                qtpy                win32pipe
attr                jellyfish           queue               win32print
attrs               jinja2              queuelib            win32process
audioop             jinja2_time         quopri              win32profile
automat             jmespath            random              win32ras
autopep8            joblib              rasutil             win32rcparser
autoreload          json                re                  win32security
babel               json5               regcheck            win32service
backcall            jsonschema          regex               win32serviceutil
backports           jupyter             regutil             win32timezone
base64              jupyter_client      repo_cli            win32trace
bcrypt              jupyter_console     reprlib             win32traceutil
bdb                 jupyter_core        requests            win32transaction
binaryornot         jupyter_server      requests_file       win32ts
binascii            jupyterlab          rlcompleter         win32ui
binhex              jupyterlab_plotly   rmagic              win32uiole
binstar_client      jupyterlab_pygments rope                win32verstamp
bisect              jupyterlab_server   rtree               win32wnet
bitarray            jupyterlab_widgets  ruamel_yaml         win_inet_pton
bkcharts            jwt                 run                 win_unicode_console
black               keyring             runpy               wincertstore
blackd              keyword             s3transfer          winerror
bleach              kiwisolver          sched               winioctlcon
blib2to3            lazy_object_proxy   scipy               winnt
bokeh               lib2to3             scrapy              winperf
boto3               libarchive          seaborn             winpty
botocore            libfuturize         secrets             winreg
bottleneck          libpasteurize       select              winsound
brotli              lief                selectors           winxpgui
bs4                 linecache           send2trash          winxptheme
builtins            llvmlite            service_identity    wrapt
bz2                 locale              servicemanager      wsgiref
cProfile            locket              setuptools          xarray
calendar            logging             shelve              xdrlib
certifi             lxml                shlex               xlrd
cffi                lz4                 shutil              xlsxwriter
cgi                 lzma                signal              xlwings
cgitb               mailbox             sip                 xml
chardet             mailcap             sipconfig           xmlrpc
charset_normalizer  markdown            sipdistutils        xxsubtype
chunk               markupsafe          site                yaml
click               marshal             six                 yapf
cloudpickle         math                skimage             yapftests
clyent              matplotlib          sklearn             zict
cmath               matplotlib_inline   sklearnex           zipapp
cmd                 mccabe              slugify             zipfile
code                menuinst            smart_open          zipimport
codecs              mimetypes           smtpd               zipp
codeop              mistune             smtplib             zlib
collections         mkl                 snappy              zmq
colorama            mkl_fft             sndhdr              zoneinfo
colorcet            mkl_random          sniffio             zope
colorsys            mmap                snowballstemmer
commctrl            mmapfile            socket
compileall          mmsystem            socketserver

Enter any module name to get more help.  Or, type "modules spam" to search
for modules whose name or summary contain the string "spam".
</PRE>
<P>Exactly how this list presents itself will depend on the system
your are using. Enter:
</P>
<PRE>operator</PRE>
<P>This should display the start of the help documentation for the
operator module:
</P>
<PRE>Help on module operator:

NAME
    operator - Operator interface.

MODULE REFERENCE
    https://docs.python.org/3.9/library/operator

    The following documentation is automatically generated from the Python
    source files.  It may be incomplete, incorrect or include features that
    are considered implementation detail and may vary between Python
    implementations.  When in doubt, consult the module reference at the
    location listed above.

DESCRIPTION
    This module exports a set of functions implemented in C corresponding
    to the intrinsic operators of Python.  For example, operator.add(x, y)
    is equivalent to the expression x+y.  The function names are those
    used for special methods; variants without leading and trailing
    '__' are also provided for convenience.

CLASSES
    builtins.object
        attrgetter
        itemgetter
        methodcaller

    class attrgetter(builtins.object)
     |  attrgetter(attr, ...) --> attrgetter object
     |
     |  Return a callable object that fetches the given attribute(s) from its operand.
     |  After f = attrgetter('name'), the call f(r) returns r.name.
     |  After g = attrgetter('name', 'date'), the call g(r) returns (r.name, r.date).
-- More  --
</PRE>
<P>Press the &lt;enter&gt; key to see the next line of the
documentation. Press and hold the &lt;enter&gt; key and the
documentation should stream to the screen. The &lt;space&gt;
bar key streams the documentation a page at a time. The
&lt;q&gt; key quits and should return you to the prompt.
</P>
<P>Have a look at some documentation for other modules.</P>
<P>To exit the help system and return you to the Python prompt,
enter:
</P>
<PRE>q</PRE>
<P>To read the help for the <a href="https://docs.python.org/3/library/builtins.html">builtins</a> module <a href="https://docs.python.org/3/library/functions.html#print">print</a> function, enter:</P>
<PRE>help(print)</PRE>
<P>Before learning how to run a file of Python commands, let us
consider some more basic Python syntax - rules about how it must
be written.
</P>
</DIV>

<DIV>
<H2 id="4">4. Basic Python Syntax</H2>
<DIV>
<H3 id="4.1">4.1. Syntax Errors</H3>
<P>If a statement or expression is syntactically incorrect, and the
Python interpreter attempts to interpret it, a
<a href="https://docs.python.org/3/library/exceptions.html#SyntaxError">SyntaxError</a> is raised.</P>
<P>At the Python prompt enter:</P>
<PRE>x=</PRE>
<P>You should get the following:</P>
<PRE>File "&lt;stdin>", line 1
    x =
       ^
SyntaxError: invalid syntax
</PRE>
<P>Essentially, the problem with this code is that the expression
is incomplete: There should be something on the right of the
equals sign '='.
</P>
<DIV>
<H3 id="4.2">4.2. Statements</H3>
<P>In Python, multiple statements on a single line are separated
with semicolons ';'. At the Python prompt enter:
</P>
<PRE>y=1;x=y;print(x)</PRE>
<P>The output should be:</P>
<PRE>1</PRE>
<P>The code could be spaced out more and each statement could
be on a separate line without the need for any semicolons:
</P>
<PRE>y = 1
x = y
print(x)
</PRE>
<P>Individual Python statements might include multiple expressions
and can be formulated over several lines. We will consider some
examples of these compound statements shortly...
</P>
<P>Python does not have a special symbol to end a statement like
many other languages do.
</P>
<DIV>
<H3 id="4.3">4.3. Comments</H3>
<P>The symbol '#' is the start of a comment. Consider the
following code:
</P>
<PRE># This entire line is a comment
x = 0 # This part of the line is a comment
print(x) # Print out the value of x
# Comments should be informative.
# x = 1 # Commented code is not run.
</PRE>
<P>Between pairs of matching triple quotes everything is a comment.
There are two types of triple quote, those using single
quotation marks, and those using double quotation marks.
</P>
<P>Triple double quotes are used for <a href="https://peps.python.org/pep-0257/#what-is-a-docstring">docstrings</a><P> - a form of documentation that will be detailed later in the
course.
</P>
<P>Triple single quotes can be useful for commenting out sections
of code when
<a href="https://en.wikipedia.org/wiki/Debugging">debugging</a>. Consider the following code:</P>
<PRE>'''
This is between triple single quotes and is a comment
'''

"""
This is between triple double quotes and is a comment.
"""

'''
"""
This is both between triple single and double quotes and is a comment.
"""
'''
</PRE>
<P>Comments can be used to help make code easier to understand and
outline thinking behind some implementation or future
improvements that might be made. It can be helpful to refer to
other information sources in comments. It is sensible to add a
comment to explain why code any code is commented out.
</P>
<DIV>
<H3 id="4.4">4.4. Code Layout</H3>
<P>Blank lines are allowed and can help structure code into
blocks. It is good practice to start each code block with a
comment that outlines what the code block is for. For example:
</P>
<PRE># Initialise x and y"
x = 2
y = 4
print(x)
print(y)

# Calculate and print x to the power of y
x ** y
</PRE>
<P>Indentation is syntax in Python. Indentation refers to the space
that precedes expressions on a line and is sometimes called
'blank space' or 'white space'. Care is needed with indentation
in Python. In particular 'spaces' and 'tabs' can make
indentation appear the same when it isn't. It is recommended not
to use tabs for indentation and to use multiple spaces instead.
</P>
<P>The following is a Python code block with an example <a href="https://docs.python.org/3/reference/compound_stmts.html#if">if statement</a>:</P>
<PRE># if x is greater than y, then print a
if x > y: # This line has the same indent as the comment above.
    print(x) # This line is indented one standard step further.
print("done") # This line is indented to the previous level.
</PRE>
<P>In the code above, if the variable 'x' is greater than the
variable 'y', then the value of 'x' is printed. If either of the
variables 'x' or 'y' has not been initialised, then a
<a href="https://docs.python.org/3/library/exceptions.html#NameError">NameError</a> will be raised.</P>
<DIV>
<H3 id="4.5">4.5. Delimiters, Literals and Operators</H3>
<P>Delimiters in code separate and help organise things. The
following are
<a href="https://docs.python.org/3/reference/lexical_analysis.html#delimiters">Python delimiters</a>:</P>
<PRE>(       )       [       ]       {       }      :
.       ;       @       =       ->      +=     -=
*=      /=      //=     %=      @=      &=     |=
^=      >>=     <<=     **=
</PRE>
<P>The various types of bracket are paired - each open bracket
must be paired with a closing bracket: parentheses '()'; square
brackets '[]'; and, curly brackets '{}' also known as braces.
</P>
<P>A lot of code uses brackets. Failure to pair brackets correctly
is a common reason for confusion.
</P>
<P>Commas ',', colons ':', and dots '.' are commonly used
delimeters in Python. Details of other delimiters are omitted
for the time being. Some are really better thought of as
operators rather than delimiters.
</P>
<P>Operators are sequences of symbols that are shorthand for <a href="https://docs.python.org/3/library/operator.html">operator</a> module functions (e.g. +, -, *, /, %)</P>
<P>Literals are specific numerical or text values.</P>
<DIV>
<H3 id="4.6">4.6. Identifiers and Keywords</H3>
<P>Identifiers are names of variables, functions, classes, modules
and packages.
</P>
<P>A Python <a href="https://docs.python.org/3/reference/lexical_analysis.html#keywords">keyword</a> is a reserved word - a term that can't be used for an
identifier.
</P>
<P>Attempting to <a href="https://en.wikipedia.org/wiki/Name_binding">use</a> a keyword as an identifier such as a variable name typically
results in a
<a href="https://docs.python.org/3/library/exceptions.html#SyntaxError">SyntaxError</a>. Enter the following at the Python prompt:</P>
<PRE>if = 2</PRE>
<P>This should result in:</P>
<PRE>File "@lt;stdin>", line 1
    if = 2
       ^
SyntaxError: invalid syntax
</PRE>
<P>The Python interpreter is expecting a conditional expression
after the keyword 'if'. Recall that
<a href="https://docs.python.org/3/reference/lexical_analysis.html#keywords">keywords</a> cannot be used as identifiers.</P>
<P>For details, see the <a href="https://docs.python.org/3/reference/lexical_analysis.html">Python Lexical Analysis Documentation</a>.</P>
<DIV>
<H3 id="4.7">4.7. Style</H3>
<P>The following code block is a <a href="https://docs.python.org/3/reference/compound_stmts.html#if">Python if</a> statement which can be read as follows: If the variable 'x' is
greater than the variable 'y', then 'x' is printed, otherwise y
is printed.
</P>
<PRE>x = 0
y = 1
# If x is greater than y, then print x, else print y.
if x > y:
    print("x", x)
else:
    print("y", y)
</PRE>
<P>The function print is called with two arguments, and the code
contains variables, comments, indentation, operators and
keywords. Styling can be used added to make it easier to
identify different parts, read and understand code. The
following is the same code, but coloured to make different
things in the code easier to identify:
</P>
<pre><code class="language-python">
x = 0
y = 1
# if x is greater than y, then print x, else print y.
if x > y:
    print("x", x)
else:
    print("y", y)
print("done")
</code></pre><P>The style does not change the meaning of the code, but it
hopefully makes it easier to read and understand.
</P>
<P>Further code blocks presented in these learning resources will
be colourfully styled as above.
</P>
</DIV>

<DIV>
<H2 id="5">5. Running a file of Python commands</H2>
<P>Create a new ASCII text file, add to it the following line:</P>
<PRE>print("Hello World")
</PRE>
<P>Save the file with the name "HelloWorld.py". Open an Anaconda
prompt. Change to the directory where you saved the file
(path_to_directory) using:
</P>
<PRE>cd path_to_directory</PRE>
<P>Run the file using:</P>
<PRE>python HelloWorld.py</PRE>
<P>You should see the following printed to the console:</P>
<PRE>Hello World</PRE>
<P>If your file is on a different drive in Windows, then you
may have to switch to the drive before changing to the directory
within the drive. To change from drive 'C:' to drive 'M:' in
Windows, enter the following at the prompt:
</P>
<PRE>M:</PRE>
<P>To change back again to 'C:', enter the following at the prompt:
</P>
<PRE>C:</PRE>
<P>For code in files, the statements are executed from top to
bottom, but the flow may call functions which may themselves
call other functions. The interpreter returns to the line of
code after a function call once the function has been executed.
</P>
<P>It is not necessary to run files of Python code from the
directory in which the file is located. A path to the file can
be given in the Python command. That path can be absolute (from
the base of the file system) or relative (from the current
directory.
</P>
</DIV>

<DIV>
<H2 id="6">6. Jupyter Notebook</H2>
<P>null, is a <a href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop">REPL</a> like system that embeds code into a document containing other
information: text, images, data, and links. Code is entered in
cells which when run present outputs within the document which
is displayed in a Web browser (unless ouputs are configured to
appear in separate windows).
</P>
<P>Jupyter Notebook comes bundled with Anaconda and can be
downloaded separately from:
<a href="https://jupyter.org/about">Jupyter</a>.</P>
<P>At the Anaconda prompt change to a directory where you can write
new files and enter:
</P>
<PRE>jupyter notebook</PRE>
<P>Some messages should appear in the console and a Web browser
tab should in the default Web browser and display the Jupyter
Notebook Interface.
</P>
<P>From the New Button drop down list of the Jupyter Notebook
Interface, select:
</P>
<PRE>Python 3 (ipykernel)</PRE>
<P>The New Button is highlighted with a red oval in the following
image of the interface:
<br /><img src="../../resources/python/jupyter1.png"
alt="Jupyter Notebook Interface 1" />
</P>
<P>A Python REPL environment should appear in another browser tab
like shown in the following image:
<br /><img src="../../resources/python/jupyter2.png"
alt="Jupyter Notebook Interface 2" />
</P>
<P>Enter the following in a cell and action run:</P>
<PRE>print("Hello World")
</PRE>
<P>You should see something like:
<br /><img src="../../resources/python/jupyter3.png"
alt="Jupyter Notebook Interface 3" />
</P>
<P>Entire programs can be entered into cells as can <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a>.</P>
<P>Because a Jupyter Notebook application runs in a Web browser, it
can utilise
<a href="https://en.wikipedia.org/wiki/Javascript">JavaScript</a> - a programming language that all widely used modern Web
browsers can run. Leveraging JavaScript and Python allows for
the generation of some Web based interactive maps. In
<a href="#9">Section 9</a>, there is a practical exercise
about this. Prior to attempting this, it is important to learn
about setting up Python environments and installing Python
packages. First though, let's explore running Python code in
some other ways...
</P>
</DIV>

<DIV>
<H2 id="7">7. Integrated Development Environments</H2>
</P>
<a href="https://en.wikipedia.org/wiki/Integrated_development_environment">Integrated Development Environments</a> (IDEs) are software tools used to make writing code and
developing software easier. This section introduces
<a href="https://docs.python.org/3/library/idle.html">IDLE</a> and <a href="https://www.spyder-ide.org/">Spyder</a> - IDEs that come with <a href="https://www.anaconda.com/">Anaconda</a>.</P>
<DIV>
<H3 id="7.1">7.1. IDLE</H3>
<P><a href="https://docs.python.org/3/library/idle.html">IDLE</a>- an Integrated Development and Learning Environment for Python.
The IDLE application has an 'editor window' for editing files of
Python commands, and a 'console window' for entering REPL
commands and displaying output. At the Anaconda prompt enter:
</P>
<PRE>idle</PRE>
<P>This should open up the IDLE console window that should look
something like the image below:
<br /><img src="../../resources/python/idle1.png"
alt="The IDLE interface" />
</P>
<P>As well as the Python console prompt, there is a <a href="https://en.wikipedia.org/wiki/Graphical_user_interface">GUI</a> menu. Choose:</P>
<PRE>File -> Open...</PRE>
<P>Open your HelloWorld.py file. IDLE should open the file in the
editor window that looks something like:
<br /><img src="../../resources/python/idle2.png"
alt="The IDLE file editor window interface" />
</P>
<P>Notice that as with a Jupyter Notebook, the code appearing in
the IDLE editor window is styled.
</P>
<P>The editor window has other menu options. Select:</P>
<PRE>Run -> Run Module</PRE>
<P>This should run the HelloWorld.py file, and output to the
console in the other window which should appear something like:
<br /><img src="../../resources/python/idle3.png"
alt="The IDLE interface having run the Hello World program" />
</P>
<P>Close the instance of IDLE that is running.</P>
<DIV>
<H3 id="7.2">7.2. Spyder</H3>
<P>null- the Scientific PYthon Development EnviRonment, is an IDE that
comes with Anaconda.
</P>
<P>From the Anaconda prompt enter:</P>
<PRE>spyder</PRE>
<P>It may take a couple of minutes to load, when you should see
something like this:
<br /><img src="../../resources/python/spyder1.png"
alt="The Spyder interface" />
</P>
<P>The pane to the left is the 'editor pane'. The pane to the top
right is the 'inspector pane'. The pane to the bottom right is
the 'console pane'.
</P>
<P>From the menu, choose:</P>
<PRE>File -> Open...</PRE>
<P>Open your 'HelloWorld.py' file which should appear in the editor
pane. From the menu, choose:
</P>
<PRE>Run -> Run</PRE>
<P>If a popup box appears choose the default and this should run
your program and output should appear in the console like in the
following image:
<br /><img src="../../resources/python/spyder2.png"
alt="The Spyder interface showing the Hello World program
successfully ran" />
</P>
<P>Use the editor and add the following in line 2:</P>
<PRE>x = y</PRE>
<P>Try to run the file again. It should raise a <a href="https://docs.python.org/3/library/exceptions.html#NameError">NameError</a> and there should be marks against the code on line 2 on the left
and right of the editor pane. Hover your mouse cursor over the
mark on the left. You should see something similar to the image
below:
<br /><img src="../../resources/python/spyder3.png"
alt="The Spyder interface showing an error." />
</P>
<P>Have a look at the latest <a href="https://docs.spyder-ide.org/">Spyder Documentation</a>.</P>
<DIV>
<H3 id="7.3">7.3. Other IDEs</H3>
<P>There are other IDEs that support Python code development. If you are already familiar with an IDE that supports Python code development, then you might like to give it a try. Other IDEs that might be useful to you in future include: <a href="https://www.jetbrains.com/pycharm/">PyCharm</a>, and <a href="https://www.pydev.org">PyDev</a>. <!-- Eclipse, Netbeans and VS Code are other IDEs that may support Python --></P>
</DIV>

<DIV>
<H2 id="8">8. QGIS Desktop Python Console</H2>
<P><a href="https://en.wikipedia.org/wiki/Geographic_information_system">Geographical Information System</a>(GIS) software are used to create, manage, process, model,
visualise and distribute geographical data and information.
<a href="https://qgis.org/">QGIS</a> is <a href="https://en.wikipedia.org/wiki/Free_and_open-source_software">free and open source</a> GIS software. It has a thriving developer and user community and
a Python
<a href="https://en.wikipedia.org/wiki/Application_Programming_Interface">API</a>. QGIS is mostly written in mixture of <a href="https://en.wikipedia.org/wiki/C%2B%2B">C++</a> and Python and there is are distinct client and server software.
The operation of both these can be automated using Python.
</P>
<P>QGIS Server is geared for serving out data. QGIS Desktop is both
client and server software. The client software can consume data
that is served out and is a general desktop application for
processing geographical data. QGIS Desktop is often controlled
by users via a
<a href="https://en.wikipedia.org/wiki/Graphical_user_interface">GUI</a> with a menu, panels and toolbars.</P>
<P>Load QGIS Desktop via AppsAnywhere or download, install and run
it on your own device.
</P>
<P>As QGIS Desktop software loads, a splash screen should appear.
When fully loaded the GUI should appear.
</P>
<P>From the GUI Menu select:</P>
<PRE>Plugins > Python Console</PRE>
<P>You should see something like:
<br /><img src="../../resources/python/qgis1.png"
alt="QGIS Desktop Python Console basic interface" />
</P>
<P>There are 5 buttons, a display area and a Python prompt:</P>
<PRE>>>></PRE>
<P>At the Python prompt enter:</P>
<PRE>dir()</PRE>
<P>A considerable amount of functionality should be listed in the
display area of the Python Console.
</P>
<P>To list the functionality of the QGIS Desktop interface, enter:
</P>
<PRE>dir(iface)</PRE>
<P><a href="https://qgis.org/pyqgis/">PyQGIS</a> provides programatic access to functionality that can also be
accessed via the QGIS Desktop GUI. It gives greater control in
data loading and processing and can be used to extend the
available functionality.
</P>
<P>In the QGIS Desktop Python console, locate and action the
'Show Editor' button. The 'editor panel' should appear on the
right of the console.
</P>
<P>Download;
<a href="../../resources/python/QGIS1.py">QGIS1.py</a>
- a Python source code file written to be run in the QGIS
Desktop Python console. Read the source code, and run the
program following the instructions that are in the multi-line
comment at the top of the source code. (An outline of what to
expect is provided in that multi-line comment.)
</P>
<P>The import statements are at the top of the Python source code
(which is good practise). Code is organised into code blocks
with comments that outline what each code block does (also good
practise). In this program, the import statements start with the
keyword 'from' which details from which package the specified
modules are imported.
</P>
<P>The code contains some <a href="https://docs.python.org/3/reference/compound_stmts.html#for">Python for</a> statements which start with the keyword 'for'. The first of
these iterates over the 'fields' in a 'layer'. The others
iterate over the 'features' in a 'layer'. (Iteration simply
means going through a sequence of things one at a time.
</P>
<P>The program accesses both attribute and geometry data from a
layer, and adds data into the QGIS Desktop GUI display.
</P>
<P>Once the program has run the QGIS Desktop GUI should look
something like:
<br /><img src="../../resources/python/qgis2.png"
alt="QGIS Python Console after having run QGISExample.py" />
</P>
<P>QGIS Desktop Plugins can be written in both C++ and Python.
This course does not explore this further. For details see the
following:
</P>
<UL>
<LI><a href="https://www.qgis.org/en/site/getinvolved/development/development.html">
QGIS Development Web Page</a>
</LI>
<LI><a href="https://docs.qgis.org/testing/en/docs/pyqgis_developer_cookbook/plugins/index.html#developing-python-plugins">
PyQGIS Development Cookbook: Plugins Web Page: Section on Developing Python Plugins</a>
</LI>
</UL>
</DIV>

<DIV>
<H2 id="9">9. Python Packages and Environment Management</H2>
<P>Packaging code and delivering it to users via repositories is
good practise for numerous reasons. Some software and code
repositories are programming language specific or software
specific (like QGIS Desktop Plugins), components within the
repositories are packaged in standard ways, and there is some
process of review and some policy about package availability and
removal. For details on packaging Python code see the
<a href="https://packaging.python.org/">Python Packaging User Guide</a>- a collection of tutorials and references to help you
distribute and install Python packages with modern tools.
</P>
<P>null is a widely used Python repository. Developers deploy packages
to PyPI and users install packages from there. Many packages are
provided as
<a href="https://en.wikipedia.org/wiki/Free_and_open-source_software">Free and Open Source Software</a>. PyPI also supports hosting private proprietary packages.</P>
<P>When installing a package in a Python environment, by default
package dependencies are also installed at the same time. In
Python terms, a dependency is a package, module or function that
some other code needs in order to work. At the package level,
for any package that is being installed, a dependency list can
be generated which includes all the dependencies. Further lists
can be generated that reveal what these dependencies also depend
upon. A web of dependencies can emerge and the dependencies can
be installed sequentially so as to only install those
dependencies that depend on things that are already installed in
the environment.
</P>
<P>A criticism levelled at Python is that it can be poor at
dependency management compared with other programming languages.
When code in two different packages depends on different
versions of a common dependency, there is what is known as a
dependency conflict in Python. Python is currently not able to
have multiple versions of a dependency installed in a single
environment. The work around for this in Python is called
orchestration which involves organising multiple Python
environments with the required versions installed and getting
these to work together. Such orchestration is fiddly and is
regarded as an advanced topic that is not covered in this
course.
</P>
<P>Learning about creating, activating, using, deactivating and
deleting Python environments is important for orchestration and
for other reasons. This is covered in this section...
</P>
<P>It is easy to pollute Python environments by installing packages
(and their dependencies) that turn out not to be useful and that
then get in the way - using up resources and slowing things
down. This is in part because uninstalling packages and removing
all their dependencies is not currently easy with Python.
</P>
<P>The general advice when installing several packages is to
install them all in one go. Some dependency conflict resolution
is attempted by the installer when this is done. So, for
example, if a dependency requires a version between 1.2 to 1.5
of another package and another dependency requies a version from
1.1 to 1.10, then version 1.5 would be installed as the latest
version that works for all dependencies. If installations were
done one at a time, it is likely that version 1.10 would end up
being the version available and this might not work or might not
work as expected.
</P>
<P><a href="https://docs.conda.io/">Conda</a> is a package and environment manager that comes with Anaconda.
Another way to create and manage Python environments uses the
Python standard library module
<a href="https://docs.python.org/3/library/venv.html">venv</a> and the Python Package Installer <a href="https://pip.pypa.io">pip</a>.</P>
<P>Conda is the recommended way of installing some Python packages.
It is not necessarily that those packages cannot be configured
and made to work using venv and pip, but that such configuration
is currently more complicated. This is particularly true for
some commonly used Python
<a href="https://en.wikipedia.org/wiki/Geographic_information_system">GIS</a> packages, especially with installation on Microsoft Windows
operating systems.
</P>
<P>Open an Anaconda prompt, change to a directory where you can
write files and enter the following command to create a list of
Python packages available in the Python environment:
</P>
<PRE>pip list > piplist.txt</PRE>
<P>It may take a minute or so to run. It should output an
ASCII text file containing a list of names with version numbers
similar to:
<a href="../../resources/python/piplist.txt">piplist.txt</a>.
</P>
<P>Enter the following command to create a similar list:</P>
<PRE>conda list > condalist.txt</PRE>
<P>Again, it may take a minute or so to run. It should output an
ASCII text file like similar to:
<a href="../../resources/python/condalist.txt">condalist.txt</a>.
</P>
<P>Enter the following command to create an explicit list of all
the conda packages saved in a file named 'spec-file.txt':
</P>
<PRE>conda list --explicit > spec-file.txt</PRE>
<P>This file can be used to attempt to replicate the Python
environment on another resource. For details of how
to do that see:
<a href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#sharing-an-environment">
The Conda User Guide Page on Managing Environments Section on
Sharing an Environment</a>
</P>
<P>Get a list of available Conda environments. Enter:</P>
<PRE>conda env list</PRE>
<P>The list is displayed and should look something like:</P>
<PRE># conda environments:
#
base                  *  C:\ProgramData\Anaconda3
</PRE>
<P>Often users create a Python environment for a specific purpose
and only specific packages are installed for that. The
following set of instructions install the default Python
environment that comes with Anaconda, then install in this all
the packages needed for to run the examples on this page.
Altogether about 2GB of space is needed in the location where
you create the environment.
</P>
<P>It is not vital that you are able to run all the examples on
this page. Most of the course uses only the Python standard
library and a few other pakages that are installed as needed.
</P>
<P>Creating Python environments on Cloud storage such as on
<a href="https://en.wikipedia.org/wiki/OneDrive">
Microsoft OneDrive</a> or
<a href="https://en.wikipedia.org/wiki/GoogleDrive">
Google Drive</a>
is currently not recommended. On University of Leeds campus
computers or the 'Academic'
<a href="https://wvd.leeds.ac.uk">
University Windows Virtual Desktop</a>
it is recommended to create the Python environment on the
M:\ drive, for example in the following location:
<br />
M:\python\envs</P>
<P>Create the environment giving it a name added to the end of the
directory path as follows:
</P>
<PRE>conda create -p " + envPath
</PRE>
<P>The -p option is the option to use a path to get conda to
install the environment in a particular location. The path
example given here is for Windows if using Linux or MacOS, then
the path will be different. By default conda creates
environments in a directory called 'envs' located wherever
Anaconda is installed. In this case the environment being
created is called 'myenv'. Confirm the environment creation by
pressing the &lt;y> key when prompted. Creating the environment
should just take a few seconds. Once created, check it is
listed:
</P>
<PRE>conda env list</PRE>
<P>You should see something like what is shown below:</P>
<PRE># conda environments:
#
base             *  C:\ProgramData\Anaconda3"
myenv               M:\python\envs\myenv</PRE>
<P>Details may vary depending on where you created the environment
and what you called it.
</P>
<P>Conda environments are registered/listed in the '.conda'
directory in the user home directory in a file with the name
'environments.txt'.
</P>
<P>Assuming you named your environment 'myenv', activate it by
entering:
</P>
<PRE>conda activate M:\python\envs\myenv</PRE>
<P>The prompt should change to have "(myenv)" prepended instead of
(base)
</P>
<P>Next install the following Python packages:</P>
<UL>
<LI><a href="https://contextily.readthedocs.io/en/latest/">
Contextily</a>
</LI>
<LI><a href="https://github.com/Toblerity/Fiona">Fiona</a>
</LI>
<LI><a href="https://python-visualization.github.io/folium/">Folium</a>
</LI>
<LI><a href="https://geopandas.org/">Geopandas</a>
</LI>
<LI><a href="https://readthedocs.org/projects/pip/">pip</a>
</LI>
<LI><a href="https://pypi.org/project/ipykernel/">ipykernel</a>
</LI>
<LI><a href="https://pypi.org/project/PyQt5">PyQt5</a>
</LI>
<LI><a href="https://pypi.org/project/spyder-kernels/">spyder-kernels</a>
</LI>
</UL>
<P>Enter:</P>
<PRE>conda install -c conda-forge contextily fiona folium geopandas pip pysal ipykernel spyder spyder-kernels=2.2</PRE>
<P>The installation may take some time... Once it is complete,
install pyqt5 using pip by entering:
</P>
<PRE>pip install pyqt5</PRE>
<P>Next, install 'myenv' into the 'ipykernel' so it will be
available via the Jupyter Notebook interface:
</P>
<PRE>python -m ipykernel install --user --name=myenv</PRE>
<P>Download;
<a href="../../resources/python/Jupyter1.ipynb">
Jupyter1.ipynb</a>, save it to a directory and start
Jupyter Notebook so it can load the file.
</P>
<P>Enter the following to run Jupyter Notebook:</P>
<PRE>jupyter notebook --NotebookApp.max_buffer_size=1073741824</PRE>
<P>This gives Jupyter Notebook twice as much memory as the current
default (which helps prevent memory errors being encountered).
</P>
<P>Wait for a Web browser tab to appear with the Jupyter Notebook
interface. When it appears select:
</P>
<PRE>New > myenv</PRE>
<P>Open 'Jupyter1.ipynb' read and run it cell by cell.</P>
<P>If for some reason that does not work, then try something
simpler and copy the code below into a cell and run it.
</P>
<pre><code class="language-python">
# Simple example code
import folium

map = folium.Map(
    location=(53.804, -1.555),
    zoom_start=16,
    control_scale=True
)

ccg = folium.Marker(
    location=(53.8041954,-1.5549235),
    tooltip="Centre for Computational Geography",
    icon=folium.Icon()
)
ccg.add_to(map)

map
</code></pre><P>This should produce a slippy map with an icon on it that looks
something like:
<br /><img src="../../resources/python/jupyter4.png"
alt="Jupyter Notebook Interface 4" />
</P>
<P>From the Jupyter Notebook interface choose:</P>
<PRE>new > Python 3 (ipykernel)</PRE>
<P>Try running the same code. Most likely, the folium package is
not installed in your base environment and the following error
is thrown:
</P>
<PRE>---------------------------------------------------------------------------
ModuleNotFoundError                       Traceback (most recent call last)
Input In [1], in <cell line: 1>()
----> 1 import folium
      3 map = folium.Map(
      4     location=(53.804, -1.555),
      5     zoom_start=16,
      6     control_scale=True
      7 )
      9 ccg = folium.Marker(
     10     location=(53.8041954,-1.5549235),
     11     tooltip="Centre for Computational Geography",
     12     icon=folium.Icon()
     13 )

ModuleNotFoundError: No module named 'folium'
</PRE>
<P>Exit Jupyter Notebook and deactivate myenv by entering:</P>
<PRE>deactivate myenv</PRE>
<P>To remove the conda environment myenv use:</P>
<PRE>conda remove --name myenv --all</PRE>
<P>This ends the section on environment management and installing
packages.
</P>
<P>Below are key references for installing packages using pip and
conda:
</P>
<UL>
<LI><a href="https://packaging.python.org/en/latest/tutorials/installing-packages/#use-pip-for-installing">
https://packaging.python.org/en/latest/tutorials/installing-packages/#use-pip-for-installing
</a>
</LI>
<LI><a href="https://docs.anaconda.com/anaconda/user-guide/tasks/install-packages/">
https://docs.anaconda.com/anaconda/user-guide/tasks/install-packages/</a>
</LI>
</UL>
</DIV>

<DIV>
<H2 id="10">10. Recap and Expectations</H2>
<P>This section of the course introduced some basic Python syntax
and considered the evolution of the language. It explored
running Python code in a number of ways: using the REPL
environment, running files of source code; using Jupyter
Notebooks; the IDLE and Spyder IDEs; and the Python environment
in QGIS.
</P>
<P>Loading modules using import statements, and accessing
functionality via a dot operator was introduced.
</P>
<P>Example <a href="https://docs.python.org/3/reference/compound_stmts.html#if">if</a> statements and <a href="https://docs.python.org/3/reference/compound_stmts.html#for">for loops</a> were provided. These key things will be used many times, so do
not worry if you have not fully understood these yet.
</P>
<P>Versioning, packaging and managing Python/Conda environments
have been introduced, as has installing Python packages in
Python environments.
</P>
<P>Some example code has been provided that automates some QGIS
Desktop processing. The Jupyter Notebook based example utilised
Javascript capabilities of the Web browser and leveraged some
widely used Python GIS tools.
</P>
<P>This has been a broad brush overview. You might benefit from
revisiting parts of this learning once you are more familiar
with developing Python code and as you think about undertaking
projects.
</P>
</DIV>


<DIV>

<div>
<p><a id="next" class="nav" href="../variables/index.html">Next: Variables</a></p>
</div>
<P>Date last modified: 2023-09-15</P>

<P><a href="https://creativecommons.org/share-your-work/public-domain/cc0/">CC0 Licence</a></P>

</DIV>

</BODY>

</HTML>

